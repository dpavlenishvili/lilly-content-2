@if (wrapped()) {
  <container-wrapper>
    <ng-container *ngTemplateOutlet="contentT"></ng-container>
  </container-wrapper>
} @else {
  <ng-container *ngTemplateOutlet="contentT"></ng-container>
}

<ng-template #contentT>
  <div class="block is-grid block--widget-title" [ngClass]="{ 'is-reverse': isReverse() }">
    <div class="block__media">
      <div class="media">
        <picture>
          <source type="image/avif" [srcset]="imageTileWidgetFields()?.image?.fields?.file?.url + '?fm=avif'"/>
          <source type="image/webp" [srcset]="imageTileWidgetFields()?.image?.fields?.file?.url + '?fm=webp'"/>
          <img [src]="imageTileWidgetFields()?.image?.fields?.file?.url"
               [alt]="imageTileWidgetFields()?.altText || ''"
               loading="lazy"
               decoding="async"/>
        </picture>
      </div>
    </div>
    <div class="block__content">
      @if (!imageTileWidgetFields()?.hideHeading) {
        <div class="block__title">
          <h3 class="h2-garamond-heading">{{ imageTileWidgetFields()?.heading }}</h3>
        </div>
      }
      <div class="block__text description" [innerHTML]="imageTileWidgetFields()?.description | mdToHtml"></div>
      @if (!imageTileWidgetFields()?.hideButton && imageTileWidgetFields()?.buttonText && imageTileWidgetFields()?.buttonLink) {
        <button mat-flat-button color="primary" (click)="goToLink()">
          <div class="btn__grid">
            <div>
              {{ imageTileWidgetFields()?.buttonText }}
            </div>
            <mat-icon svgIcon="arrow_forward"></mat-icon>
          </div>
        </button>
      }
    </div>
  </div>
</ng-template>
